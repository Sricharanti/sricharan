######################################################
# Scenario: L_DD_WATCHDOG_0005_0001
# Date: 13 Feb 2012
# Author: Mariia Nagul | Taras Koroliuk
# Testing: Watchdog Timer: Start/Stop
# Timer driver shall support start and stop of a watchdog timer
######################################################

# Begin L_DD_WATCHDOG_0005_0001

01 set -x; dmesg -c 2&>1 > $TMPFILE
02 set -x; $WATCHDOG_DIR_BINARIES/./$WATCHDOG_START_STOP $WATCHDOG_DEVFS -e & [ -n "`dmesg | grep "Watchdog enabled"`" ] && exit 0 || exit 1
03 set -x; $WATCHDOG_DIR_BINARIES/./$WATCHDOG_START_STOP $WATCHDOG_DEVFS -d; [ -n "`dmesg | grep "Watchdog disabled"`" ] && exit 0 || exit 1
04 set -x; $WATCHDOG_DIR_BINARIES/./$WATCHDOG_START_STOP $WATCHDOG_DEVFS -k || exit 0

# End L_DD_WATCHDOG_0005_0001
