###########################################################################
# (C) Copyright Texas Instruments, 2008. All Rights Reserved.
#
# Name of the file: L_DD_GPIO_0001
#
# Location of the file: 
#
# Brief description of the contents of the file:
#  
#
# Detailed description of the contents of the file:
# GPIO Test Module receives 3 arguments: test, gpio and value 
#
# Author: Abraham Arce
#
# Created on: Sat Mar  8 17:06:39 CST 2008
#
# Change Log:
#
############################################################################

# Begin L_DD_GPIO_0001

# Request and Free a valid GPIO Line
0000 set -x; insmod $TEST_MODULE test=1 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1
0000 set -x; insmod $TEST_MODULE test=2 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1

# Set GPIO input direction
0000 set -x; insmod $TEST_MODULE test=3 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1
0000 set -x; insmod $TEST_MODULE test=3 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1

# Set GPIO output direction
0000 set -x; insmod $TEST_MODULE test=4 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1
0000 set -x; insmod $TEST_MODULE test=4 gpio=$GPIO_VALID_LINE value=1 && rmmod gpio_test && exit 0 || exit 1

# Request and Free a range of valid GPIO Lines
# #define OMAP_MAX_GPIO_LINES 192
#0001 set -x; COUNT=20; while [ $COUNT -lt $OMAP_MAX_GPIO_LINES ] ; do insmod $TEST_MODULE test=1 gpio=$COUNT value=1 && rmmod gpio_test ; COUNT=`expr $COUNT + 1` ; done && exit 0 || exit 1
#0002 set -x; COUNT=20; while [ $COUNT -lt $OMAP_MAX_GPIO_LINES ] ; do insmod $TEST_MODULE test=2 gpio=$COUNT value=1 && rmmod gpio_test ; COUNT=`expr $COUNT + 1` ; done && exit 0 || exit 1

# Request and Free an invalid GPIO Line
#0000 set -x; COUNT=$INITIAL_INVALID_RANGE; while [ $COUNT -lt $FINAL_INVALID_RANGE ] ; do insmod $TEST_MODULE test=1 gpio=$COUNT value=1 && rmmod gpio_test ; COUNT=`expr $COUNT + 1` ; done && exit 0 || exit 1
#0000 set -x; COUNT=$INITIAL_INVALID_RANGE; while [ $COUNT -lt $FINAL_INVALID_RANGE ] ; do insmod $TEST_MODULE test=2 gpio=$COUNT value=1 && rmmod gpio_test ; COUNT=`expr $COUNT + 1` ; done && exit 0 || exit 1

# End L_DD_GPIO_0001


