################################################################################
# Scenario: L_DD_USBOTG_0009_1_core
# Author  : Axel Castaneda Gonzalez
# Date    : January  4, 2006
# Description: Testing the suspend and resume functionality of the USB OTG
#	controller. Cable switching after a suspend and resume cycle.
# Changelog:
#	19 Jan 2009 - Diego Zavala Trujillo - Updating instructions.
################################################################################

foo	echo L_DD_USBOTG_0009_1_core


###   Suspending the system.

1   echo -e '\n\n\t After sleeping the sistem please press any key to continue. \n\n'  &&  echo -n mem > $SLEEP_STATE  &&  exit 0 || exit 1

###   OMAP acting like a Host.

2  echo -e '\n\n\t Please connect cable. [ Mini-A to OMAP - Mini-B to an USB Device (Mass Storage) ] \n\n'  &&  sleep $DELAY3  &&  export ENUM_INFO="stor"; $TESTSCRIPT/enum.sh connectDevice &&  exit 0 || exit 1

3  echo -e '\n\n\t Disconnect cable. \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh disconnectDevice  &&  exit 0 || exit 1

###   OMAP acting like a Device.

4  echo -e '\n\n\t Please connect USB cable  [ Mini-B to OMAP - Linux PC on the other end ] \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh connectHost  &&  exit 0 || exit 1

5  echo -e '\n\n\t Checking enumeration on the Linux PC \n\n'  &&  export ENUM_INFO="Zero"; $TESTSCRIPT/enum.sh connectHostRemote  &&  exit 0 || exit 1

6  echo -e '\n\n\t Disconnect USB cable from OMAP \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh disconnectHost  &&  exit 0 || exit

###   Suspending the system.

7   echo -e '\n\n\t After sleeping the sistem please press any key to continue. \n\n'  &&  echo -n mem > $SLEEP_STATE  &&  exit 0 || exit 1

###   OMAP acting like a Device.

8   echo -e '\n\n\t Please connect USB cable  [ Mini-B to OMAP - Linux PC on the other end ] \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh connectHost  &&  exit 0 || exit 1

9  echo -e '\n\n\t Checking enumeration on the Linux PC \n\n'  &&  export ENUM_INFO="Zero"; $TESTSCRIPT/enum.sh connectHostRemote  &&  exit 0 || exit 1

10 echo -e '\n\n\t Disconnect USB cable from OMAP \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh disconnectHost  &&  exit 0 || exit

###   OMAP acting like a Host.

11 echo -e '\n\n\t Please connect cable. [ Mini-A to OMAP - Mini-B to an USB Device (Mass Storage) ] \n\n'  &&  sleep $DELAY3  &&  export ENUM_INFO="stor"; $TESTSCRIPT/enum.sh connectDevice &&  exit 0 || exit 1

12 echo -e '\n\n\t Disconnect cable. \n\n'  &&  sleep $DELAY3  &&  $TESTSCRIPT/enum.sh disconnectDevice  &&  exit 0 || exit 1

bar	echo L_DD_USBOTG_0009_1_core
