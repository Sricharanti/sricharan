#####################
# FILENAME: L_DD_AUDIO_0008
# Author  : Nishanth Menon
# Date    : Wed Apr 26 11:38:49 CDT 2006
# Copyright (C) 2006 Texas Instruments
#
# Description:
# Test compatibility with other parallel device operations

foo   echo "L_DD_AUDIO_0008";sleep 1

0004c (module.sh insert buf && exit 0) ||exit 1
0004b (module.sh insert audio && exit 0) ||exit 1
0004a (module.sh insert codec && exit 0) ||exit 1

# Test against keypad
#0001a (evtest $INPUT_EVENT  |(sleep 2;killall evtest)&) && cat /dev/sound/dsp>/dev/null|(sleep 1;killall cat) && exit 0|| exit 1
#0001b (cat /dev/sound/dsp>/dev/null|(sleep 2;killall cat) &) && evtest $INPUT_EVENT  |(sleep 1;killall evtest)  && exit 0|| exit 1

# Clean up:
0004a (module.sh remove codec && exit 0) ||exit 1
0004b (module.sh remove audio && exit 0) ||exit 1
0004c (module.sh remove buf && exit 0) ||exit 1

# Test against MMC
#0001c test -b /dev/mmc/blk0/part1 && test -d /mnt && mount /dev/mmc/blk0/part1 /mnt && (cp -rvf $TMPBASE /mnt|(sleep 2;killall cp;echo done) &) && cat /dev/sound/dsp>/dev/null|(sleep 1;killall cat;echo done) && sleep 1 && umount /mnt && exit 0 ||exit 1
#0001d test -b /dev/mmc/blk0/part1 && test -d /mnt && mount /dev/mmc/blk0/part1 /mnt && (cat /dev/sound/dsp>/dev/null|(sleep 1;killall cat) &) && cp -rvf $TMPBASE /mnt|(sleep 2;killall cp;echo done) && sleep 1 && umount /mnt && exit 0 ||exit 1

bar   echo "L_DD_AUDIO_0008"
