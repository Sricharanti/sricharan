###################################################################################################################
# Scenario: L_DD_NAND_0002
# Author  : Ricardo Perez Olivares
# Date    : November 08th, 2007
# Description: Erase operation tests
###################################################################################################################

# Begin L_DD_NAND_0002

#tftpboot 0x80300000 x0081762/kernel/12x/uImage-LEED-generic
#nand write.jffs2 0x80300000 0x540000 0x20000

0001	set -x; $TESTBIN/nanddump $MTD_CHAR_DEV1 -o -f testoob1.bin -s 0 -l $BLOCK_SIZE && $TESTBIN/flash_erase $MTD_CHAR_DEV1 $OFFSET_VAL1 1 && $TESTBIN/nandwrite -s $OFFSET_VAL3 $MTD_CHAR_DEV1 testoob1.bin && $TESTBIN/nanddump $MTD_CHAR_DEV1 -o -f testoob3.bin -s $OFFSET_VAL3 -l $BLOCK_SIZE && cmp testoob1.bin testoob3.bin && exit 0 || exit 1
0002	set -x; $TESTBIN/nanddump $MTD_CHAR_DEV1 -o -f testoob1.bin -s 0 -l $BLOCK_SIZE && $TESTBIN/flash_erase $MTD_CHAR_DEV1 $OFFSET_VAL1 1 && $TESTBIN/nandwrite -s $OFFSET_VAL3 $MTD_CHAR_DEV1 testoob1.bin && $TESTBIN/nanddump $MTD_CHAR_DEV1 -f testoob2.bin -s $OFFSET_VAL3 -l $BLOCK_SIZE && $TESTBIN/flash_erase $MTD_CHAR_DEV1 $OFFSET_VAL2 1 && $TESTBIN/nandwrite -o -s $OFFSET_VAL4 $MTD_CHAR_DEV1 testoob2.bin && $TESTBIN/nanddump $MTD_CHAR_DEV1 -f testoob3.bin -s $OFFSET_VAL4 -l $BLOCK_SIZE && cmp testoob2.bin testoob3.bin && exit 0 || exit 1

# End L_DD_NAND_0002
 
