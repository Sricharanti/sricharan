###############################################################################
# Scenario: L_DD_MMC_0006_0001
# Author  : Misael Lopez Cruz
# Date    : September 20, 2006
###############################################################################

# Begin L_DD_MMC_0006_0001

01  set -x; $TESTSCRIPT/handlerMmcsdBlock.sh "create" "1" "ext2"

02  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "1" "dd if=/dev/urandom of=$MMCSD_MOUNTPOINT_1/file.0006.0001.1 bs=1M count=5 && sync" "-20"
03  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "2" "dd if=/dev/urandom of=$MMCSD_MOUNTPOINT_1/file.0006.0001.2 bs=1M count=5 && sync" "+20"
04  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "start" "5"
05  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "verify" "1"

06  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "1" "dd if=/dev/urandom of=$MMCSD_MOUNTPOINT_1/file.0006.0001.1 bs=1M count=5 && sync" "+20"
07  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "2" "dd if=/dev/urandom of=$MMCSD_MOUNTPOINT_1/file.0006.0001.2 bs=1M count=5 && sync" "-20"
08  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "start" "5"
09  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "verify" "2"

10  set -x; dd if=/dev/urandom of=$TMPBASE/file.temporal bs=1M count=5 && sync
11  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "1" "cp $TMPBASE/file.temporal $MMCSD_MOUNTPOINT_1/file.temporal.1 && sync" "-20"
12  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "2" "cp $TMPBASE/file.temporal $MMCSD_MOUNTPOINT_1/file.temporal.2 && sync" "+20"
13  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "start" "5"
14  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "verify" "1"
15  set -x; cmp $MMCSD_MOUNTPOINT_1/file.temporal.1 $MMCSD_MOUNTPOINT_1/file.temporal.2

16  set -x; dd if=/dev/urandom of=$TMPBASE/file.temporal bs=1M count=5 && sync
17  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "1" "cp $TMPBASE/file.temporal $MMCSD_MOUNTPOINT_1/file.temporal.1 && sync" "+20"
18  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "program" "2" "cp $TMPBASE/file.temporal $MMCSD_MOUNTPOINT_1/file.temporal.2 && sync" "-20"
19  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "start" "5"
20  set -x; $UTILHANDLERS/handlerSchedulerPriority.sh "verify" "2"
21  set -x; cmp $MMCSD_MOUNTPOINT_1/file.temporal.1 $MMCSD_MOUNTPOINT_1/file.temporal.2

22  set -x; $TESTSCRIPT/handlerMmcsdBlock.sh "remove" "1"

# End L_DD_MMC_0006_0001