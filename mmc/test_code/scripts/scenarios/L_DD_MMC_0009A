###################################################################################################################
# Scenario: L_DD_MMC_0009A
# Author  : Misael Lopez Cruz
# Date    : April 4, 2007
# Description: Test if MMC driver supports booting from a SD card
###################################################################################################################

foo 	echo "L_DD_MMC_0009A"

setup   mkdir $MOUNT_POINT1; echo -e "n\n p\n 1\n $START_SECTOR_DEV1\n $END_SECTOR_DEV1\n w\n" | fdisk $ROOT_ENTRY_DEV1 && $TESTBIN/mke2fs $PARTITION1_ENTRY_DEV1 &&  mount -t ext2 $PARTITION1_ENTRY_DEV1 $MOUNT_POINT1 && exit 0 || exit 1

0001	cp -r $BOOT_DIRECTORY/* $MOUNT_POINT1 && sync && echo "Boot using the following argument: setenv bootargs console=ttyS0,115200n8 noinitrd root=$PARTITION1_ENTRY_DEV1 rootfstype=ext2" && sleep 3 && exit 0 || exit 1

cleanup umount $MOUNT_POINT1 && reboot && exit 0 || exit 1

bar 	echo "L_DD_MMC_0009A"
