###############################################################################
# Scenario: L_DD_MMC_0018_0002
# Author  : Abraham Arce
# Date    : Thu Sep 24 20:46:51 CDT 2009
###############################################################################

# Begin L_DD_MMC_0018_0002

01_01  set -x; handlerMmcsdBlock.sh "create" "1" "ext2" "/mnt/mmc/"
01_02  set -x; handlerTmpfs.sh "create" "128" "/mnt/tmpfs/"

01_03  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc/file.1 bs=1M count=50 && sync" "-20"
01_04  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc/file.2 bs=1M count=50 && sync" "+20"
01_05  set -x; handlerProcessPriority.sh "execute" "5"
01_06  set -x; handlerProcessPriority.sh "verify"

01_07  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc/file.1 bs=1M count=50 && sync" "+20"
01_08  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc/file.2 bs=1M count=50 && sync" "-20"
01_09  set -x; handlerProcessPriority.sh "execute" "5"
01_10  set -x; handlerProcessPriority.sh "verify"

01_11  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
01_12  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.1 && sync" "-20"
01_13  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.2 && sync" "+20"
01_14  set -x; handlerProcessPriority.sh "execute" "5"
01_15  set -x; handlerProcessPriority.sh "verify"
01_16  set -x; handlerCmd.sh "run" "cmp /mnt/mmc/file.1 /mnt/mmc/file.2"

01_17  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
01_18  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.1 && sync" "+20"
01_19  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.2 && sync" "-20"
01_20  set -x; handlerProcessPriority.sh "execute" "5"
01_21  set -x; handlerProcessPriority.sh "verify"
01_22  set -x; handlerProcessPriority.sh "run" "cmp /mnt/mmc/file.1 /mnt/mmc/file.2"

01_23  set -x; handlerTmpfs.sh "remove" "/mnt/tmpfs/"
01_24  set -x; handlerMmcsdBlock.sh "remove" "1" "/mnt/mmc/"

# ---

02_01  set -x; handlerMmcsdBlock.sh "create" "1" "dos" "/mnt/mmc/"
02_02  set -x; handlerTmpfs.sh "create" "128" "/mnt/tmpfs/"

02_03  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc/file.1 bs=1M count=50 && sync" "-20"
02_04  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc/file.2 bs=1M count=50 && sync" "+20"
02_05  set -x; handlerProcessPriority.sh "execute" "5"
02_06  set -x; handlerProcessPriority.sh "verify"

02_07  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc/file.1 bs=1M count=50 && sync" "+20"
02_08  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc/file.2 bs=1M count=50 && sync" "-20"
02_09  set -x; handlerProcessPriority.sh "execute" "5"
02_10  set -x; handlerProcessPriority.sh "verify"

02_11  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
02_12  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.1 && sync" "-20"
02_13  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.2 && sync" "+20"
02_14  set -x; handlerProcessPriority.sh "execute" "5"
02_15  set -x; handlerProcessPriority.sh "verify"
02_16  set -x; handlerCmd.sh "run" "cmp /mnt/mmc/file.1 /mnt/mmc/file.2"

02_17  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
02_18  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.1 && sync" "+20"
02_19  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc/file.2 && sync" "-20"
02_20  set -x; handlerProcessPriority.sh "execute" "5"
02_21  set -x; handlerProcessPriority.sh "verify"
02_22  set -x; handlerCmd.sh "run" "cmp /mnt/mmc/file.1 /mnt/mmc/file.2"

02_23  set -x; handlerTmpfs.sh "remove" "/mnt/tmpfs/"
02_24  set -x; handlerMmcsdBlock.sh "remove" "1" "/mnt/mmc/"

# ---

03_01  set -x; handlerMmcsdBlock.sh "create" "2" "mixed" "/mnt/mmc1/" "/mnt/mmc2/"
03_02  set -x; handlerTmpfs.sh "create" "128" "/mnt/tmpfs/"

03_03  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc1/file.1 bs=1M count=5 && sync" "-20"
03_04  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc2/file.2 bs=1M count=5 && sync" "+20"
03_05  set -x; handlerProcessPriority.sh "execute" "5"
03_06  set -x; handlerProcessPriority.sh "verify"

03_07  set -x; handlerProcessPriority.sh "add" "1" "dd if=/dev/urandom of=/mnt/mmc1/file.1 bs=1M count=5 && sync" "+20"
03_08  set -x; handlerProcessPriority.sh "add" "2" "dd if=/dev/urandom of=/mnt/mmc2/file.2 bs=1M count=5 && sync" "-20"
03_09  set -x; handlerProcessPriority.sh "execute" "5"
03_10  set -x; handlerProcessPriority.sh "verify"

03_11  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
03_12  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc1/file.1 && sync" "-20"
03_13  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc2/file.2 && sync" "+20"
03_14  set -x; handlerProcessPriority.sh "execute" "5"
03_15  set -x; handlerProcessPriority.sh "verify"
03_16  set -x; handlerCmd.sh "run" "cmp /mnt/mmc1/file.1 /mnt/mmc2/file.2"

03_17  set -x; handlerCmd.sh "run" "dd if=/dev/urandom of=/mnt/tmpfs/file.temporal bs=1M count=100 && sync"
03_18  set -x; handlerProcessPriority.sh "add" "1" "cp /mnt/tmpfs/file.temporal /mnt/mmc1/file.1 && sync" "+20"
03_19  set -x; handlerProcessPriority.sh "add" "2" "cp /mnt/tmpfs/file.temporal /mnt/mmc2/file.2 && sync" "-20"
03_20  set -x; handlerProcessPriority.sh "execute" "5"
03_21  set -x; handlerProcessPriority.sh "verify"
03_22  set -x; handlerCmd.sh "run" "cmp /mnt/mmc1/file.1 /mnt/mmc2/file.2"

03_23  set -x; handlerTmpfs.sh "remove" "/mnt/tmpfs/"
03_24  set -x; handlerMmcsdBlock.sh "remove" "2" "/mnt/mmc1/" "/mnt/mmc2/"

# End L_DD_MMC_0018_0002