#########################################################################################
# Scenario    : L_DD_UART_SERIAL_0010_0001
# Author      : Venkatraman S
# Date        : Sep 23 2009
# Description : Test UART TX and RX CPU Affinity test
#########################################################################################

# Begin L_DD_UART_SERIAL_0010_0001
# Here Trying to transmit a huge file (/bin/sh in this case, as it always exists)
# And receive it under file name receivedfile
# The test passes if both files match
01  set -x; rm -f $MODDIR/receivedfile
02  set -x; $UTILS_DIR_HANDLERS/handlerCpuAffinity.sh "switch" "$MODDIR/uart_test r UART_TEST_PORT1 $MODDIR/receivedfile 115200 0 &" "10" "300"
03  set -x; $UTILS_DIR_HANDLERS/handlerCpuAffinity.sh "switch" "$MODDIR/uart_test s UART_TEST_PORT2 /bin/sh 115200 0" "10" "300"
04  set -x; diff /bin/sh $MODDIR/receivedfile && exit 0 || exit 1

# End L_DD_UART_SERIAL_0010_0001
