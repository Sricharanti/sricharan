################################################################################
# Scenario: L_DD_ETHERNET_0002_0002
# Author  : Cristopherson Torres
# Date    : Wen May 19 21:38:00 CST 2010
################################################################################

# Begin L_DD_ETHERNET_0002_0002

# Checking the current setup
01 set -x; ifconfig eth0 -promisc; ifconfig | grep eth0 && exit 0 || exit 1
02 set -x; if [ "$IPADDR" == "" ]; then echo "FATAL: IPADDR is not set"; exit 1; fi; exit 0
03 set -x; echo "NOTE: This test case should NOT be executed on a Network Filesystem"; exit 0

# Validating the scenario
04 set -x; ping -c 2 $IPADDR && exit 0 || exit 1
05 set -x; ifconfig eth0 down && exit 0 || exit 1
06 set -x; ifconfig | grep eth0 && exit 1 || exit 0
07 set -x; ping -x $IPADDR && exit 1 || exit 0
08 set -x; ifconfig eth0 up && exit 0 || exit 1
09 set -x; ifconfig | grep eth0 && exit 0 || exit 1
10 set -x; ping -c 2 $IPADDR && exit 0 || exit 1

# End L_DD_ETHERNET_0002_0002
