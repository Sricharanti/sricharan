################################################################################
# Scenario: L_DD_ETHERNET_0001_0002
# Author  : Abraham Arce
# Modifications: Aharon Campos
# Date    : Fri Mar 28 13:59:10 CDT 2008
################################################################################

# Begin L_DD_ETHERNET_0001_0002

01 set -x; cat /proc/interrupts | grep eth0
02 set -x; ifconfig | grep Interrupt:
03 set -x; cat /proc/interrupts | grep eth0 | sed -e 's@:@@' | sed q | awk '{print $2}' > /tmp/COUNT1 && exit 0 || exit 1;
04 set -x; ping -c2 `cat /tmp/ipaddr`
05 set -x; cat /proc/interrupts | grep eth0 | sed -e 's@:@@' | sed q | awk '{print $2}' > /tmp/COUNT2 && exit 0 || exit 1;
06 set -x; if [ `cat /tmp/COUNT1` -lt `cat /tmp/COUNT2` ]; then exit 0; else exit 1; fi;

# End L_DD_ETHERNET_0001_0002
