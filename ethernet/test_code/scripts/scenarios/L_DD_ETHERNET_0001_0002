################################################################################
# Scenario: L_DD_ETHERNET_0001_0002
# Author  : Abraham Arce
# Date    : Fri Mar 28 13:59:10 CDT 2008
# Description : IRQ Allocation
#
# To test the resource IRQ is allocated to the driver properly
# IRQ number shall be present under /proc/interrupts and ifconfig output
#
################################################################################

# Begin L_DD_ETHERNET_0001_0002

00 set -x; cat /proc/interrupts | grep eth0 | sed -e 's@:@@' | sed q | awk '{print $1}' > /tmp/IRQ1 && exit 0 || exit 1;
01 set -x; ifconfig | grep Interrupt: | sed -e 's@Interrupt:@@' | sed q | awk '{print $1}' > /tmp/IRQ2 && exit 0 || exit 1;
02 set -x; cmp /tmp/IRQ1 /tmp/IRQ2 && exit 0 || exit 1;

# End L_DD_ETHERNET_0001_0002
